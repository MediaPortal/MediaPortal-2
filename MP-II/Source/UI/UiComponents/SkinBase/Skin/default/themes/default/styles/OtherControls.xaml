<?xml version="1.0" encoding="utf-8"?>
<ResourceDictionary
    xmlns="www.team-mediaportal.com/2008/mpf/directx"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:system="clr-namespace:System"
    xmlns:collections="clr-namespace:MediaPortal.Presentation.Collections"
    DependsOnStyleResources="Colors,Buttons"
    >

  <!-- ************************** Default conversions ****************************** -->
  <DataTemplate DataType="{x:Type system:String}">
    <Label Content="{Binding}"/>
  </DataTemplate>

  <!-- ***************************** Brushes ******************************** -->

  <!-- default brush used to paint the background of a page/window -->
  <ResourceWrapper x:Key="BackgroundBrush" Freezable="true">
    <RadialGradientBrush GradientOrigin="0.186,0.311">
      <GradientStop Color="{ThemeResource BackgroundGradientLightColor}" Offset="0"/>
      <GradientStop Color="{ThemeResource BackgroundGradientDarkColor}" Offset="1"/>
    </RadialGradientBrush>
  </ResourceWrapper>

  <!-- default brush used to paint the background of a dialog -->
  <ResourceWrapper x:Key="DialogBackgroundBrush" Freezable="true">
    <RadialGradientBrush GradientOrigin="0.186,0.311">
      <RadialGradientBrush.RelativeTransform>
        <TransformGroup>
          <ScaleTransform CenterX="0.5" CenterY="0.5" ScaleX="1.071" ScaleY="1.29"/>
          <SkewTransform AngleX="0" AngleY="0" CenterX="0.5" CenterY="0.5"/>
          <RotateTransform Angle="0" CenterX="0.5" CenterY="0.5"/>
          <TranslateTransform X="-0.036" Y="-0.146"/>
        </TransformGroup>
      </RadialGradientBrush.RelativeTransform>
      <GradientStop Color="{ThemeResource DialogBackgroundGradientLightColor}" Offset="0"/>
      <GradientStop Color="{ThemeResource DialogBackgroundGradientDarkColor}" Offset="1"/>
    </RadialGradientBrush>
  </ResourceWrapper>

  <!-- ***************************** Progress bar ******************************** -->

  <Style x:Key="ProgressBarStyle" TargetType="{x:Type ProgressBar}">
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type ProgressBar}">
          <Grid>
            <Rectangle x:Name="ProgressBarTrack" Margin="2,0,2,0" HorizontalAlignment="Left" Fill="{ThemeResource ProgressBarBorderColor}"/>
            <Rectangle x:Name="ProgressBarIndicator" Width="{TemplateBinding PartIndicatorWidth}" HorizontalAlignment="Left" Fill="{ThemeResource ProgressBarFillColor}"/>
          </Grid>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- ***************************** ScrollViewer styles ********************************* -->

  <Style x:Key="DefaultScrollViewerStyle" TargetType="{x:Type ScrollViewer}">
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type ScrollViewer}">
          <Grid>
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="*"/>
              <ColumnDefinition Width="2"/>
              <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
              <RowDefinition Height="*"/>
              <RowDefinition Height="2"/>
              <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <!-- Content -->
            <ScrollContentPresenter Grid.Row="0" Grid.Column="0" Margin="{TemplateBinding Margin}" Content="{TemplateBinding Content}"/>
            <!-- ScrollBar X -->
            <Grid x:Name="ScrollBarX" IsVisible="{TemplateBinding ScrollBarXVisible}" Grid.Row="2" Grid.Column="0">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
              </Grid.ColumnDefinitions>
              <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
              </Grid.RowDefinitions>
              <!-- Background -->
              <Rectangle x:Name="ScrollBarXBackground" Grid.Row="0" Grid.Column="0"
                  Stroke="{ThemeResource ScrollBarStrokeColor}" RadiusX="4" RadiusY="4">
                <Rectangle.Fill>
                  <SolidColorBrush Color="{ThemeResource ScrollBarBackgroundColor}"/>
                </Rectangle.Fill>
              </Rectangle>
              <!-- Knob -->
              <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                <StackPanel Width="{TemplateBinding ScrollBarXKnobPos}"/>
                <Rectangle x:Name="ScrollBarXKnob" Width="{TemplateBinding ScrollBarXKnobWidth}" Height="{ThemeResource ScrollBarWidth}"
                    Stroke="{ThemeResource ScrollBarKnobStrokeColor}" RadiusX="4" RadiusY="4">
                  <Rectangle.Fill>
                    <SolidColorBrush Color="{ThemeResource ScrollBarKnobBackgroundColor}"/>
                  </Rectangle.Fill>
                </Rectangle>
              </StackPanel>
            </Grid>
            <!-- ScrollBar Y -->
            <Grid x:Name="ScrollBarY" IsVisible="{TemplateBinding ScrollBarYVisible}" Grid.Row="0" Grid.Column="2">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
              </Grid.ColumnDefinitions>
              <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
              </Grid.RowDefinitions>
              <!-- Background -->
              <Rectangle x:Name="ScrollBarYBackground" Grid.Row="0" Grid.Column="0"
                  Stroke="{ThemeResource ScrollBarStrokeColor}" RadiusX="4" RadiusY="4">
                <Rectangle.Fill>
                  <SolidColorBrush Color="{ThemeResource ScrollBarBackgroundColor}"/>
                </Rectangle.Fill>
              </Rectangle>
              <!-- Knob -->
              <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Vertical">
                <StackPanel Height="{TemplateBinding ScrollBarYKnobPos}"/>
                <Rectangle x:Name="ScrollBarYKnob" Width="{ThemeResource ScrollBarWidth}" Height="{TemplateBinding ScrollBarYKnobHeight}"
                    Stroke="{ThemeResource ScrollBarKnobStrokeColor}" RadiusX="4" RadiusY="4">
                  <Rectangle.Fill>
                    <SolidColorBrush Color="{ThemeResource ScrollBarKnobBackgroundColor}"/>
                  </Rectangle.Fill>
                </Rectangle>
              </StackPanel>
            </Grid>
          </Grid>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- ************************* ListView item container styles ************************** -->

  <!-- An item list container represented by a standard "Button", scrolling its "ItemLabel" label when focused -->
  <Style x:Key="DefaultMenuItemContainerStyle" TargetType="{x:Type ListViewItem}">
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type ListViewItem}">
          <Button Style="{StaticResource ButtonWideStyle}"
              Command="{DynamicResource ResourceKey=Menu_Command,TreeSearchMode=Hybrid,AssignmentMode=Copy}"
              IsEnabled="{Binding Enabled}">
            <Button.Triggers>
              <Trigger Property="HasFocus" Value="True">
                <Setter TargetName="ItemLabel" Property="Scroll" Value="True"/>
              </Trigger>
            </Button.Triggers>
          </Button>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- Container style for a simple list -->
  <Style x:Key="DefaultItemContainerStyle" TargetType="{x:Type ListViewItem}">
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type ListViewItem}">
          <ContentPresenter x:Name="ContentPresenter" HorizontalAlignment="Stretch"/>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- Container style for dialog buttons which have a command associated in the ListItem -->
  <Style x:Key="DialogButtonContainerStyle" TargetType="{x:Type ListViewItem}">
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type ListViewItem}">
          <Button Style="{StaticResource ButtonStyle}" Margin="5,0,5,0" Command="{Binding Command}">
            <Button.Triggers>
              <Trigger Property="HasFocus" Value="True">
                <Setter TargetName="ItemLabel" Property="Scroll" Value="True"/>
              </Trigger>
            </Button.Triggers>
          </Button>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- An item list container for usage as playlist, DOESN'T WORK YET (because of the commands which won't work) -->
  <Style x:Key="ItemPlayListContainerStyle" TargetType="{x:Type ListViewItem}">
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type ListViewItem}">
          <StackPanel Orientation="Horizontal">
            <Button Style="{StaticResource ButtonWideStyle}" Height="46" Width="360">
              <Button.Triggers>
                <Trigger Property="HasFocus" Value="True">
                  <Setter TargetName="ItemLabel" Property="Scroll" Value="True"/>
                </Trigger>
              </Button.Triggers>
            </Button>
            <Button Style="{StaticResource ArrowButtonDownStyle}" Command="{Command PlayList:PlayList.MoveDown}" Height="46" Width="46" />
            <Button Style="{StaticResource ArrowButtonUpStyle}" Command="{Command PlayList:PlayList.MoveUp}" Height="46" Width="46" />
          </StackPanel>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- *************************** ListView item data templates ****************************** -->

  <!-- A simple data template to show the Name of the ListItem in a Label -->
  <DataTemplate x:Key="DefaultMenuItemDataTemplate" DataType="{x:Type collections:ListItem}" DataString="{Binding [Name]}">
    <Label x:Name="ItemLabel" Margin="10,4,0,0" Content="{Binding [Name]}" FontSize="28"/>
  </DataTemplate>

  <!-- A data template which shows the CoverArt/defaulticon, the Name and the Size of the ListItem -->
  <DataTemplate x:Key="ContentsMenuItemDataTemplate" DataType="{x:Type collections:ListItem}" DataString="{Binding [Name]}">
    <Grid Height="46">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>
      <Image Thumbnail="True" Stretch="Uniform" Grid.Row="0" Grid.Column="0" Height="32" Width="32" Source="{Binding [ImageSrc]}" FallbackSource="{Binding [DefaultIconSrc]}"/>
      <Label x:Name="ItemLabel" Grid.Row="0" Grid.Column="1" Margin="10,0,0,0" Height="32" Content="{Binding [Name]}" FontSize="28" HorizontalAlignment="Left" VerticalAlignment="Center"/>
    </Grid>
  </DataTemplate>

   <!-- A data template for a dialog menu item in list mode (each row has an image and a label) -->
  <DataTemplate x:Key="ImageDialogItemDataTemplate" DataType="{x:Type collections:ListItem}" DataString="{Binding [Name]}">
    <Grid>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <Image x:Name="Image" Width="100" Height="100" Grid.Row="0" Grid.Column="0" Stretch="Uniform" Source="{Binding [ImageSrc]}" FallbackSource="{Binding [DefaultIconSrc]}"/>
      <Label x:Name="ItemLabel" Grid.Row="0" Grid.Column="1" Margin="10,4,0,0" Content="{Binding [Name]}" FontSize="28"/>
    </Grid>
  </DataTemplate>

  <!-- Data template for a simple share entry in the shares list -->
  <DataTemplate x:Key="ShareItemDataTemplate" DataType="{x:Type collections:ListItem}" DataString="{Binding [Name]}">
    <Control Focusable="true">
      <Control.Template>
        <ControlTemplate>
          <Grid x:Name="ParentPanel">
            <Grid.RowDefinitions>
              <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="200"/>
              <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Label x:Name="ShareName" Grid.Column="0" Margin="5,0,0,0" Content="{Binding [Name]}" FontSize="22"/>
            <Label x:Name="SharePath" Grid.Column="1" Content="{Binding [Path]}" FontSize="22"/>
          </Grid>
        </ControlTemplate>
      </Control.Template>
      <Control.Triggers>
        <Trigger Property="HasFocus" Value="True">
          <Setter TargetName="ShareName" Property="Scroll" Value="True"/>
          <Setter TargetName="SharePath" Property="Scroll" Value="True"/>
          <Setter TargetName="ParentPanel" Property="Background">
            <Setter.Value>
              <SolidColorBrush Color="{StaticResource PassiveFocusBackgroundColor}"/>
            </Setter.Value>
          </Setter>
        </Trigger>
      </Control.Triggers>
    </Control>
  </DataTemplate>

  <!-- Data template for a share entry markable with a checkbox in the shares list -->
  <DataTemplate x:Key="MultiMarkableShareItemDataTemplate" DataType="{x:Type collections:ListItem}" DataString="{Binding [Name]}">
    <Grid x:Name="ParentPanel">
      <Grid.RowDefinitions>
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="200"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <CheckBox x:Name="ShareNameMarker" Grid.Column="0" Margin="2,1,0,1" Style="{StaticResource CheckBoxStyle}" VerticalAlignment="Center"
          IsChecked="{Binding Path=Selected,Mode=TwoWay}" Content="{Binding [Name]}"/>
      <Label x:Name="SharePath" Grid.Column="1" Content="{Binding [Path]}" FontSize="22" VerticalAlignment="Center"/>
      <Grid.Triggers>
        <Trigger Property="IsMouseOver" Value="True">
          <Setter TargetName="SharePath" Property="Scroll" Value="True"/>
          <Setter TargetName="ParentPanel" Property="Background">
            <Setter.Value>
              <SolidColorBrush Color="{StaticResource PassiveFocusBackgroundColor}"/>
            </Setter.Value>
          </Setter>
        </Trigger>
      </Grid.Triggers>
    </Grid>
  </DataTemplate>

  <!-- Data template for a share entry markable with a radiobutton in the shares list -->
  <DataTemplate x:Key="SingleMarkableShareItemDataTemplate" DataType="{x:Type collections:ListItem}" DataString="{Binding [Name]}">
    <Grid x:Name="ParentPanel">
      <Grid.RowDefinitions>
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="200"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <RadioButton x:Name="ShareNameMarker" Grid.Column="0" Margin="2,1,0,1" Style="{StaticResource RadioButtonStyle}" VerticalAlignment="Center"
          IsChecked="{Binding Path=Selected,Mode=TwoWay}" Content="{Binding [Name]}"/>
      <Label x:Name="SharePath" Grid.Column="1" Content="{Binding [Path]}" FontSize="22" VerticalAlignment="Center"/>
      <Grid.Triggers>
        <Trigger Property="IsMouseOver" Value="True">
          <Setter TargetName="SharePath" Property="Scroll" Value="True"/>
          <Setter TargetName="ParentPanel" Property="Background">
            <Setter.Value>
              <SolidColorBrush Color="{StaticResource PassiveFocusBackgroundColor}"/>
            </Setter.Value>
          </Setter>
        </Trigger>
      </Grid.Triggers>
    </Grid>
  </DataTemplate>

  <!-- Data template for a share entry markable with a checkbox -->
  <DataTemplate x:Key="DefaultMultiMarkableItemDataTemplate" DataType="{x:Type collections:ListItem}" DataString="{Binding [Name]}">
    <Grid x:Name="ParentPanel">
      <Grid.RowDefinitions>
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <CheckBox x:Name="NameMarker" Grid.Column="0" Margin="2,1,0,1" Style="{StaticResource CheckBoxStyle}" VerticalAlignment="Center"
          IsChecked="{Binding Path=Selected,Mode=TwoWay}" Content="{Binding [Name]}"/>
      <Grid.Triggers>
        <Trigger Property="IsMouseOver" Value="True">
          <Setter TargetName="ParentPanel" Property="Background">
            <Setter.Value>
              <SolidColorBrush Color="{StaticResource PassiveFocusBackgroundColor}"/>
            </Setter.Value>
          </Setter>
        </Trigger>
      </Grid.Triggers>
    </Grid>
  </DataTemplate>

  <!-- Data template for a share entry markable with a radio button -->
  <DataTemplate x:Key="DafaultSingleMarkableItemDataTemplate" DataType="{x:Type collections:ListItem}" DataString="{Binding [Name]}">
    <Grid x:Name="ParentPanel">
      <Grid.RowDefinitions>
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <RadioButton x:Name="Marker" Grid.Column="0" Margin="2,1,0,1" Style="{StaticResource RadioButtonStyle}" VerticalAlignment="Center"
          IsChecked="{Binding Path=Selected,Mode=TwoWay}" GroupName="RadioButtonGroup"
          Content="{Binding [Name]}"/>
      <Grid.Triggers>
        <Trigger Property="IsMouseOver" Value="True">
          <Setter TargetName="NameLabel" Property="Scroll" Value="True"/>
          <Setter TargetName="ParentPanel" Property="Background">
            <Setter.Value>
              <SolidColorBrush Color="{StaticResource PassiveFocusBackgroundColor}"/>
            </Setter.Value>
          </Setter>
        </Trigger>
      </Grid.Triggers>
    </Grid>
  </DataTemplate>

  <!-- A data template for usage in a playlist, which shows the CoverArt/defaulticon and the Name of the ListItem -->
  <DataTemplate x:Key="PlayListItemDataTemplate" DataType="{x:Type collections:ListItem}" DataString="{Binding [Name]}">
    <Grid Height="46">
      <Grid.ColumnDefinitions>
        <ColumnDefinition/>
        <ColumnDefinition/>
        <ColumnDefinition/>
        <ColumnDefinition/>
        <ColumnDefinition/>
        <ColumnDefinition/>
        <ColumnDefinition/>
        <ColumnDefinition/>
        <ColumnDefinition/>
        <ColumnDefinition/>
        <ColumnDefinition/>
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition/>
      </Grid.RowDefinitions>
      <Image Thumbnail="True" Grid.Row="0" Grid.Column="0" Height="32" Width="32" FallbackSource="{Binding [defaulticon]}" Source="{Binding [CoverArt]}"/>
      <Label x:Name="ItemLabel" Margin="10,0,0,0" Grid.Row="0" Height="32" Grid.Column="1" Grid.ColumnSpan="8" Content="{Binding [Name]}" FontSize="28"/>
    </Grid>
  </DataTemplate>

  <!-- ***************************** ListView styles ********************************* -->

  <!-- Standard ListView properties. The properties "ItemTemplate" and "ItemContainerStyle" have to be completed. -->
  <Style x:Key="DefaultListViewStyle" TargetType="{x:Type ListView}">
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type ListView}">
          <ScrollViewer Style="{StaticResource DefaultScrollViewerStyle}">
            <ItemsPresenter VerticalAlignment="Top"/>
          </ScrollViewer>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
    <Setter Property="ItemsPanel">
      <Setter.Value>
        <ItemsPanelTemplate>
          <StackPanel x:Name="ListItemsHost" IsItemsHost="True" Margin="10" VerticalAlignment="Top"/>
        </ItemsPanelTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- ListView style to be used for all menus (main menu, dialog menus, context menus, ...) -->
  <Style x:Key="MenuListViewStyle" BasedOn="{StaticResource DefaultListViewStyle}">
    <Setter Property="ItemTemplate" Value="{StaticResource DefaultMenuItemDataTemplate}"/>
    <Setter Property="ItemContainerStyle" Value="{StaticResource DefaultMenuItemContainerStyle}"/>
  </Style>

  <!-- ListView style to be used in the content area of the screens -->
  <Style x:Key="ContentsMenuListViewStyle" BasedOn="{StaticResource DefaultListViewStyle}">
    <Setter Property="ItemTemplate" Value="{StaticResource ContentsMenuItemDataTemplate}"/>
    <Setter Property="ItemContainerStyle" Value="{StaticResource DefaultMenuItemContainerStyle}"/>
  </Style>

  <!-- ListView style to be used for the shares list -->
  <Style x:Key="SharesListViewStyle" BasedOn="{StaticResource DefaultListViewStyle}">
    <Setter Property="ItemTemplate" Value="{StaticResource ShareItemDataTemplate}"/>
    <Setter Property="ItemContainerStyle" Value="{StaticResource DefaultItemContainerStyle}"/>
    <Setter Property="Background" Value="{ThemeResource ItemsControlShadowBackgroundColor}"/>
  </Style>

  <!-- ListView style to be used for the shares list -->
  <Style x:Key="MultiMarkableSharesListViewStyle" BasedOn="{StaticResource DefaultListViewStyle}">
    <Setter Property="ItemTemplate" Value="{StaticResource MultiMarkableShareItemDataTemplate}"/>
    <Setter Property="ItemContainerStyle" Value="{StaticResource DefaultItemContainerStyle}"/>
    <Setter Property="Background" Value="{ThemeResource ItemsControlShadowBackgroundColor}"/>
  </Style>

  <!-- ListView style to be used for the shares list -->
  <Style x:Key="SingleMarkableSharesListViewStyle" BasedOn="{StaticResource DefaultListViewStyle}">
    <Setter Property="ItemTemplate" Value="{StaticResource SingleMarkableShareItemDataTemplate}"/>
    <Setter Property="ItemContainerStyle" Value="{StaticResource DefaultItemContainerStyle}"/>
    <Setter Property="Background" Value="{ThemeResource ItemsControlShadowBackgroundColor}"/>
  </Style>

  <!-- ListView style to be used for the shares list -->
  <Style x:Key="MultiMarkableListViewStyle" BasedOn="{StaticResource DefaultListViewStyle}">
    <Setter Property="ItemTemplate" Value="{StaticResource DefaultMultiMarkableItemDataTemplate}"/>
    <Setter Property="ItemContainerStyle" Value="{StaticResource DefaultItemContainerStyle}"/>
    <Setter Property="Background" Value="{ThemeResource ItemsControlShadowBackgroundColor}"/>
  </Style>

  <!-- ListView style to be used for the shares list -->
  <Style x:Key="SingleMarkableListViewStyle" BasedOn="{StaticResource DefaultListViewStyle}">
    <Setter Property="ItemTemplate" Value="{StaticResource DafaultSingleMarkableItemDataTemplate}"/>
    <Setter Property="ItemContainerStyle" Value="{StaticResource DefaultItemContainerStyle}"/>
    <Setter Property="Background" Value="{ThemeResource ItemsControlShadowBackgroundColor}"/>
  </Style>

  <!-- ListView style to be used for playlists (NOT WORKING YET -> see ItemPlayListContainerStyle) -->
  <Style x:Key="PlayListViewStyle" BasedOn="{StaticResource DefaultListViewStyle}">
    <Setter Property="ItemTemplate" Value="{StaticResource PlayListItemDataTemplate}"/>
    <Setter Property="ItemContainerStyle" Value="{StaticResource ItemPlayListContainerStyle}"/>
  </Style>

  <!-- ListView style to be used for menus which display an image with a label -->
  <Style x:Key="ImageDialogListViewStyle" BasedOn="{StaticResource DefaultListViewStyle}">
    <Setter Property="ItemTemplate" Value="{StaticResource ImageDialogItemDataTemplate}"/>
    <Setter Property="ItemContainerStyle" Value="{StaticResource DefaultMenuItemContainerStyle}"/>
  </Style>

  <!-- *************************** TreeView item data templates ****************************** -->

  <!-- A data template for a TreeItem with a radio button -->
  <HierarchicalDataTemplate x:Key="DefaultSingleMarkableTreeItemDataTemplate" DataType="{x:Type collections:TreeItem}"
      ItemsSource="{Binding SubItems}" DataString="{Binding [Name]}">
    <RadioButton x:Name="Checker" GroupName="RadioButtonGroup"
        Style="{StaticResource RadioButtonStyle}" VerticalAlignment="Center"
        Content="{Binding [Name]}"
        IsChecked="{PickupBinding Source={DynamicResource ResourceKey=IsChecked_Binding,TreeSearchMode=Hybrid,AssignmentMode=Copy}}"
        Command="{DynamicResource ResourceKey=Checker_Command,TreeSearchMode=Hybrid,AssignmentMode=Copy}"/>
  </HierarchicalDataTemplate>

  <!-- A data template for a TreeItem with a check box -->
  <HierarchicalDataTemplate x:Key="DefaultMultiMarkableTreeItemDataTemplate" DataType="{x:Type collections:TreeItem}"
      ItemsSource="{Binding SubItems}" DataString="{Binding [Name]}">
    <CheckBox x:Name="Checker" Style="{StaticResource CheckBoxStyle}"
        Content="{Binding [Name]}"
        IsChecked="{PickupBinding Source={DynamicResource ResourceKey=IsChecked_Binding,TreeSearchMode=Hybrid,AssignmentMode=Copy}}"
        Command="{DynamicResource ResourceKey=Checker_Command,TreeSearchMode=Hybrid,AssignmentMode=Copy}"/>
  </HierarchicalDataTemplate>

  <!-- ************************** TreeView item container styles ***************************** -->

  <!-- Tree item container which shows a PlusMinus button and the item content, in expanded state a sub stack panel unter the first line -->
  <Style x:Key="DefaultTreeItemContainerStyle" TargetType="{x:Type HeaderedItemsControl}">
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type HeaderedItemsControl}">
          <Grid HorizontalAlignment="Left" VerticalAlignment="Top">
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="Auto"/>
              <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
              <RowDefinition Height="Auto"/>
              <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <CheckBox x:Name="Expander" Grid.Column="0" Grid.Row="0" Style="{StaticResource PlusMinusButtonStyle}"
                IsChecked="{Binding RelativeSource={RelativeSource AncestorType={x:Type HeaderedItemsControl}},Path=IsExpanded,Mode=TwoWay}"
                Command="{DynamicResource ResourceKey=Expander_Command,TreeSearchMode=Hybrid,AssignmentMode=Copy}"
                VerticalAlignment="Top"/>
            <ContentPresenter x:Name="ContentPresenter" Grid.Column="1" Grid.Row="0" HorizontalAlignment="Stretch"/>
            <StackPanel x:Name="SubItemsHost" Grid.Column="1" Grid.Row="1" IsVisible="{Binding RelativeSource={RelativeSource AncestorType={x:Type HeaderedItemsControl}},Path=IsExpanded}">
              <ItemsPresenter HorizontalAlignment="Left" VerticalAlignment="Top"/>
            </StackPanel>
          </Grid>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
    <BindingSetter Property="IsExpanded" BindingWrapper="{DynamicResource ResourceKey=Expander_Binding,TreeSearchMode=Hybrid,AssignmentMode=Copy}"/>
  </Style>

  <!-- ****************************** TreeView styles ********************************** -->

  <!-- Standard TreeView properties. The properties "ItemTemplate" and "ItemContainerStyle" have to be completed. -->
  <Style x:Key="DefaultTreeViewStyle" TargetType="{x:Type TreeView}">
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type TreeView}">
          <ScrollViewer Style="{StaticResource DefaultScrollViewerStyle}">
            <ItemsPresenter HorizontalAlignment="Left" VerticalAlignment="Top"/>
          </ScrollViewer>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
    <Setter Property="ItemsPanel">
      <Setter.Value>
        <ItemsPanelTemplate>
          <StackPanel x:Name="TreeItemsHost" IsItemsHost="True" Margin="10" HorizontalAlignment="Left" VerticalAlignment="Top"/>
        </ItemsPanelTemplate>
      </Setter.Value>
    </Setter>
    <Setter Property="ItemContainerStyle" Value="{StaticResource DefaultTreeItemContainerStyle}"/>
    <Setter Property="Background" Value="{ThemeResource ItemsControlShadowBackgroundColor}"/>
  </Style>

  <Style x:Key="DefaultMultiMarkableTreeViewStyle" BasedOn="{StaticResource DefaultTreeViewStyle}">
    <Setter Property="ItemTemplate" Value="{StaticResource DefaultMultiMarkableTreeItemDataTemplate}"/>
  </Style>

  <Style x:Key="DefaultSingleMarkableTreeViewStyle" BasedOn="{StaticResource DefaultTreeViewStyle}">
    <Setter Property="ItemTemplate" Value="{StaticResource DefaultSingleMarkableTreeItemDataTemplate}"/>
    <Setter Property="RadioButton.GroupContext" Value="RadioButtonGroup"/>
  </Style>

</ResourceDictionary>
